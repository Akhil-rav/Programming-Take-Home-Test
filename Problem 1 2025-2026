package frc.robot.commands;

import edu.wpi.first.wpilibj.Joystick;
import edu.wpi.first.wpilibj2.command.CommandBase;
import frc.robot.subsystems.ArcadeDriveSubsystem;

/**
 * ArcadeDriveCommand - Command for teleoperated arcade drive control
 * Takes input from joystick and moves the robot accordingly
 */
public class ArcadeDriveCommand extends CommandBase {
    private final ArcadeDriveSubsystem driveSubsystem;
    private final Joystick joystick;

    /**
     * Constructor
     * @param driveSubsystem The arcade drive subsystem
     * @param joystick The joystick for input
     */
    public ArcadeDriveCommand(ArcadeDriveSubsystem driveSubsystem, Joystick joystick) {
        this.driveSubsystem = driveSubsystem;
        this.joystick = joystick;
        
        // Require the drive subsystem
        addRequirements(driveSubsystem);
    }

    @Override
    public void execute() {
        double forwardSpeed = -joystick.getY();
        double turnSpeed = joystick.getX();
        
        // Drive the robot using arcade drive
        driveSubsystem.arcadeDrive(forwardSpeed, turnSpeed);
    }

    @Override
    public void end(boolean interrupted) {
        // Stop the robot when command ends
        driveSubsystem.stop();
    }

    @Override
    public boolean isFinished() {
        // This command runs continuously during teleop
        return false;
    }
}

